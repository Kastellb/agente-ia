/* ===== Backend ===== */
async function askInstructor(text){
  // Construir el prompt
  const prompt = buildPrompt(text);

  // ğŸ‘€ Imprimir en consola para validar
  console.log("=== Prompt enviado a la IA ===\n", prompt);

  // Enviar al Worker
  const r = await fetch(WORKER_URL, {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ text: prompt, lang:"en-US" })
  });
  if(!r.ok) throw new Error("HTTP "+r.status);
  const data = await r.json().catch(()=>({ reply:"Connection error." }));
  return String(data.reply||"");
}

