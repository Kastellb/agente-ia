<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St. Mary’s College — English Leveler</title>
    <style>
        :root {
            --brand: #0b3b71;
            --bg: #eef2f7;
            --bot: #0b88e6;
            --user: #12b886;
            --light: #f8f9fa;
            --dark: #343a40;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: #0f172a;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            line-height: 1.6;
        }

        header {
            background: var(--brand);
            color: #fff;
            padding: 16px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1 {
            margin: 0;
            font-size: 20px;
        }

        main {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .welcome {
            text-align: center;
            margin-bottom: 20px;
            max-width: 500px;
        }

        .lesson-selector {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            margin-bottom: 20px;
        }

        .lesson-selector input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .lesson-list {
            list-style: none;
            max-height: 300px;
            overflow-y: auto;
        }

        .lesson-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }

        .lesson-item:hover {
            background: #f0f7ff;
        }

        .chat-container {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        #chat {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 8px;
            min-height: 300px;
        }

        .msg {
            max-width: 80%;
            padding: 10px 14px;
            border-radius: 14px;
            line-height: 1.4;
        }

        .msg.bot {
            background: var(--bot);
            color: #fff;
            align-self: flex-start;
        }

        .msg.user {
            background: var(--user);
            color: #fff;
            align-self: flex-end;
        }

        .composer {
            display: flex;
            gap: 10px;
        }

        #text {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }

        #send {
            background: var(--bot);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0 20px;
            cursor: pointer;
            font-weight: 600;
        }

        footer {
            text-align: center;
            padding: 15px;
            color: #64748b;
            font-size: 14px;
            background: #fff;
            border-top: 1px solid #e2e8f0;
        }

        @media (max-width: 768px) {
            main {
                padding: 15px;
            }
            
            .lesson-selector, .chat-container {
                padding: 15px;
            }
            
            .msg {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>St. Mary’s College — English Leveler</h1>
    </header>

    <main>
        <div class="welcome">
            <h2>Welcome to English Leveler!</h2>
            <p>Please select a lesson to begin your English practice.</p>
        </div>

        <div class="lesson-selector">
            <input type="text" id="lessonSearch" placeholder="Type lesson number or name...">
            <ul class="lesson-list">
                <li class="lesson-item" data-lesson="1">Lesson 1: Greetings and Introductions</li>
                <li class="lesson-item" data-lesson="2">Lesson 2: Everyday Conversations</li>
                <li class="lesson-item" data-lesson="3">Lesson 3: Present Simple Tense</li>
                <li class="lesson-item" data-lesson="4">Lesson 4: Past Simple Tense</li>
                <li class="lesson-item" data-lesson="5">Lesson 5: Future Tenses</li>
                <li class="lesson-item" data-lesson="6">Lesson 6: Adjectives and Adverbs</li>
                <li class="lesson-item" data-lesson="7">Lesson 7: Prepositions of Place</li>
                <li class="lesson-item" data-lesson="8">Lesson 8: Prepositions of Time</li>
                <li class="lesson-item" data-lesson="9">Lesson 9: Modal Verbs</li>
                <li class="lesson-item" data-lesson="10">Lesson 10: Conditionals</li>
            </ul>
        </div>

        <div class="chat-container hidden">
            <div id="chat"></div>
            <div class="composer">
                <input id="text" placeholder="Type your message...">
                <button id="send">Send</button>
            </div>
        </div>
    </main>

    <footer>
        <p>St. Mary's College English Leveler • © 2023</p>
    </footer>

    <script>
        // Elementos DOM
        const chatContainer = document.querySelector('.chat-container');
        const chat = document.getElementById('chat');
        const input = document.getElementById('text');
        const sendBtn = document.getElementById('send');
        const lessonSearch = document.getElementById('lessonSearch');
        const lessonItems = document.querySelectorAll('.lesson-item');
        
        // Datos de lecciones
        const lessons = {
            1: "Greetings and Introductions: Learn how to greet people and introduce yourself.",
            2: "Everyday Conversations: Practice common daily conversations.",
            3: "Present Simple Tense: Understand and use the present simple tense.",
            4: "Past Simple Tense: Learn to talk about past events.",
            5: "Future Tenses: Practice different ways to talk about the future.",
            6: "Adjectives and Adverbs: Describe things and actions more effectively.",
            7: "Prepositions of Place: Use prepositions to describe locations.",
            8: "Prepositions of Time: Talk about time correctly.",
            9: "Modal Verbs: Express ability, possibility, permission, and obligation.",
            10: "Conditionals: Practice if-clauses and conditional sentences."
        };
        
        // Filtrar lecciones
        lessonSearch.addEventListener('input', () => {
            const searchText = lessonSearch.value.toLowerCase();
            
            lessonItems.forEach(item => {
                const lessonText = item.textContent.toLowerCase();
                if (lessonText.includes(searchText)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
        
        // Seleccionar lección
        lessonItems.forEach(item => {
            item.addEventListener('click', () => {
                const lessonNum = item.getAttribute('data-lesson');
                startLesson(lessonNum);
            });
        });
        
        // Iniciar lección
        function startLesson(lessonNum) {
            document.querySelector('.lesson-selector').classList.add('hidden');
            chatContainer.classList.remove('hidden');
            
            addMsg(`You've selected Lesson ${lessonNum}: ${lessons[lessonNum]}`, 'bot');
            addMsg("How can I help you with this lesson? You can ask questions or type 'practice' for exercises.", 'bot');
        }
        
        // Añadir mensaje al chat
        function addMsg(text, type) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `msg ${type}`;
            msgDiv.textContent = text;
            chat.appendChild(msgDiv);
            chat.scrollTop = chat.scrollHeight;
        }
        
        // Enviar mensaje
        function sendMessage() {
            const text = input.value.trim();
            if (!text) return;
            
            input.value = '';
            addMsg(text, 'user');
            
            // Respuesta simple del bot
            setTimeout(() => {
                let response;
                
                if (text.toLowerCase().includes('practice')) {
                    response = "Let's practice! Translate this sentence to English: 'Hola, ¿cómo estás?'";
                } else if (text.toLowerCase().includes('hello') || text.toLowerCase().includes('hi')) {
                    response = "Hello! How can I help you with your English practice today?";
                } else if (text.includes('?')) {
                    response = "That's a good question. In English, we would typically say...";
                } else {
                    response = "I understand. Would you like to practice some exercises or learn more about this topic?";
                }
                
                addMsg(response, 'bot');
                
                // Leer respuesta en voz alta
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(response);
                    window.speechSynthesis.speak(utterance);
                }
            }, 500);
        }
        
        // Event listeners
        sendBtn.addEventListener('click', sendMessage);
        
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>
